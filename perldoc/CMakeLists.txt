FIND_PACKAGE(KDE4 REQUIRED)
FIND_PACKAGE(Perl REQUIRED)

INCLUDE(KDE4Defaults)
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR} ${KDE4_INCLUDES}
    ${QT4_INCLUDES})

SET(CMAKE_VERBOSE_MAKEFILE OFF)

SET(kio_perldoc_SRCS
    perldoc.cpp
    )

kde4_add_plugin(kio_perldoc ${kio_perldoc_SRCS})

TARGET_LINK_LIBRARIES(kio_perldoc ${KDE4_KIO_LIBS})

INSTALL(TARGETS kio_perldoc DESTINATION ${PLUGIN_INSTALL_DIR})

INSTALL(PROGRAMS pod2html.pl DESTINATION ${DATA_INSTALL_DIR}/kio_perldoc)
INSTALL(FILES perldoc.protocol DESTINATION ${SERVICES_INSTALL_DIR})

